const miModulo=(()=>{"use strict";let e=[],l=["C","D","H","S"],s=["J","Q","K","A"],t=[],a=document.querySelector("#btnPedir"),d=document.querySelector("#btnDetener"),r=document.querySelector("#btnNuevo"),o=document.querySelectorAll(".divCartas"),$=document.querySelectorAll("strong"),i=()=>{e=[];for(let t=2;t<=10;t++)for(let a of l)e.push(t+a);for(let d of l)for(let r of s)e.push(r+d);return _.shuffle(e)},n=(l=2)=>{e=i(),t=[];for(let s=0;s<l;s++)t.push(0);$.forEach(e=>e.innerText=0),o.forEach(e=>e.innerHTML=""),a.disabled=!1,a.classList.remove("bg-yellow-800"),a.classList.add("bg-yellow-500"),d.disabled=!1,d.classList.remove("bg-yellow-800"),d.classList.add("bg-yellow-500")},c=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},g=e=>{let l=e.substring(0,e.length-1);return isNaN(l)?"A"===l?11:10:1*l},b=(e,l)=>(t[l]=t[l]+g(e),$[l].innerText=t[l],t[l]),u=(e,l)=>{let s=document.createElement("img");s.src=`assets/cartas/${e}.png`,s.classList.add("carta"),o[l].append(s)},y=()=>{let[e,l]=t;setTimeout(()=>{l===e?alert("Nadie gana"):e>21?alert("Computadora gana"):l>21?alert("Jugador gana"):alert("Computadora gana")},100)},L=e=>{let l=0;do{let s=c();l=b(s,t.length-1),u(s,t.length-1)}while(l<e&&e<=21);y()};return a.addEventListener("click",function(){let e=c(),l=b(e,0);u(e,0),l>21?(a.disabled=!0,a.classList.add("bg-yellow-800"),d.disabled=!0,d.classList.add("bg-yellow-800"),L(l)):21===l&&(a.disabled=!0,a.classList.add("bg-yellow-800"),d.disabled=!0,d.classList.add("bg-yellow-800"),L(l))}),d.addEventListener("click",()=>{d.disabled=!0,a.classList.remove("bg-yellow-500"),d.classList.add("bg-yellow-800"),a.disabled=!0,d.classList.remove("bg-yellow-500"),a.classList.add("bg-yellow-800"),L(t[0])}),r.addEventListener("click",()=>{n()}),{nuevoJuego:n()}})();